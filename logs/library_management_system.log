2024-12-16T14:10:03.894+01:00 DEBUG 24888 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:10:03.895+01:00 DEBUG 24888 --- [LibraryManagementSystem] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:10:03.896+01:00 DEBUG 24888 --- [LibraryManagementSystem] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@20424a75]
2024-12-16T14:10:03.897+01:00 DEBUG 24888 --- [LibraryManagementSystem] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:10:03.912+01:00 DEBUG 24888 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:10:03.912+01:00 DEBUG 24888 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Invalid username or password"]
2024-12-16T14:10:03.913+01:00 DEBUG 24888 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-16T14:10:37.810+01:00  INFO 24888 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-16T14:10:37.813+01:00  INFO 24888 --- [LibraryManagementSystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-16T14:10:37.815+01:00  INFO 24888 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:10:41.260+01:00  INFO 25976 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Starting BackendApplication using Java 21.0.4 with PID 25976 (C:\Users\egor\Desktop\LibraaryManagmentSystem\backend\target\classes started by egor in C:\Users\egor\Desktop\LibraaryManagmentSystem)
2024-12-16T14:10:41.263+01:00  INFO 25976 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : No active profile set, falling back to 1 default profile: "default"
2024-12-16T14:10:42.013+01:00  INFO 25976 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-16T14:10:42.072+01:00  INFO 25976 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-12-16T14:10:42.837+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-16T14:10:42.857+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-16T14:10:42.858+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-16T14:10:42.931+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-16T14:10:42.931+01:00  INFO 25976 --- [LibraryManagementSystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1616 ms
2024-12-16T14:10:43.137+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-16T14:10:43.199+01:00  INFO 25976 --- [LibraryManagementSystem] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-16T14:10:43.231+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-16T14:10:43.572+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-16T14:10:43.975+01:00  INFO 25976 --- [LibraryManagementSystem] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@65e22def']
	Database driver: undefined/unknown
	Database version: 9.1
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-16T14:10:44.722+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-16T14:10:44.812+01:00  INFO 25976 --- [LibraryManagementSystem] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:10:45.213+01:00  INFO 25976 --- [LibraryManagementSystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2024-12-16T14:10:45.358+01:00 DEBUG 25976 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2024-12-16T14:10:45.442+01:00 DEBUG 25976 --- [LibraryManagementSystem] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-16T14:10:45.623+01:00 DEBUG 25976 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-16T14:10:45.676+01:00 DEBUG 25976 --- [LibraryManagementSystem] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-16T14:10:45.806+01:00  INFO 25976 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-16T14:10:45.813+01:00  INFO 25976 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Started BackendApplication in 4.958 seconds (process running for 5.279)
2024-12-16T14:10:45.958+01:00 DEBUG 25976 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:10:52.395+01:00  INFO 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-16T14:10:52.395+01:00  INFO 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-16T14:10:52.395+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-16T14:10:52.395+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-16T14:10:52.396+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-16T14:10:52.396+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@568e2d65
2024-12-16T14:10:52.396+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4f2a0909
2024-12-16T14:10:52.397+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-16T14:10:52.397+01:00  INFO 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-16T14:10:52.418+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:10:52.420+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:10:52.472+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@6a888af]
2024-12-16T14:10:52.477+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:10:52.501+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:10:52.502+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Invalid username or password"]
2024-12-16T14:10:52.505+01:00 DEBUG 25976 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-16T14:12:47.380+01:00  INFO 25976 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-16T14:12:47.383+01:00  INFO 25976 --- [LibraryManagementSystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-16T14:12:47.386+01:00  INFO 25976 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:12:49.842+01:00  INFO 2320 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Starting BackendApplication using Java 21.0.4 with PID 2320 (C:\Users\egor\Desktop\LibraaryManagmentSystem\backend\target\classes started by egor in C:\Users\egor\Desktop\LibraaryManagmentSystem)
2024-12-16T14:12:49.845+01:00  INFO 2320 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : No active profile set, falling back to 1 default profile: "default"
2024-12-16T14:12:50.504+01:00  INFO 2320 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-16T14:12:50.568+01:00  INFO 2320 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2024-12-16T14:12:51.222+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-16T14:12:51.233+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-16T14:12:51.233+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-16T14:12:51.287+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-16T14:12:51.287+01:00  INFO 2320 --- [LibraryManagementSystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1405 ms
2024-12-16T14:12:51.511+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-16T14:12:51.591+01:00  INFO 2320 --- [LibraryManagementSystem] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-16T14:12:51.623+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-16T14:12:51.893+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-16T14:12:52.194+01:00  INFO 2320 --- [LibraryManagementSystem] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@760487aa']
	Database driver: undefined/unknown
	Database version: 9.1
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-16T14:12:52.858+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-16T14:12:52.940+01:00  INFO 2320 --- [LibraryManagementSystem] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:12:53.295+01:00  INFO 2320 --- [LibraryManagementSystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2024-12-16T14:12:53.466+01:00 DEBUG 2320 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2024-12-16T14:12:53.553+01:00 DEBUG 2320 --- [LibraryManagementSystem] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-16T14:12:53.712+01:00 DEBUG 2320 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-16T14:12:53.758+01:00 DEBUG 2320 --- [LibraryManagementSystem] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-16T14:12:53.869+01:00  INFO 2320 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-16T14:12:53.876+01:00  INFO 2320 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Started BackendApplication in 4.429 seconds (process running for 4.733)
2024-12-16T14:12:53.977+01:00 DEBUG 2320 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:13:29.368+01:00  INFO 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-16T14:13:29.369+01:00  INFO 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-16T14:13:29.369+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-16T14:13:29.369+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-16T14:13:29.369+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-16T14:13:29.370+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@23d0f6be
2024-12-16T14:13:29.370+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@45e49d3d
2024-12-16T14:13:29.370+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-16T14:13:29.370+01:00  INFO 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-16T14:13:29.388+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:13:29.389+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:13:29.443+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@7395e78d]
2024-12-16T14:13:29.448+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:13:29.474+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:13:29.474+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Invalid username or password"]
2024-12-16T14:13:29.478+01:00 DEBUG 2320 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-16T14:15:43.482+01:00  INFO 2320 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-16T14:15:43.490+01:00  INFO 2320 --- [LibraryManagementSystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-16T14:15:43.498+01:00  INFO 2320 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:15:48.092+01:00  INFO 27532 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Starting BackendApplication using Java 21.0.4 with PID 27532 (C:\Users\egor\Desktop\LibraaryManagmentSystem\backend\target\classes started by egor in C:\Users\egor\Desktop\LibraaryManagmentSystem)
2024-12-16T14:15:48.094+01:00  INFO 27532 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : No active profile set, falling back to 1 default profile: "default"
2024-12-16T14:15:48.730+01:00  INFO 27532 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-16T14:15:48.786+01:00  INFO 27532 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2024-12-16T14:15:49.394+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-16T14:15:49.407+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-16T14:15:49.407+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-16T14:15:49.463+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-16T14:15:49.465+01:00  INFO 27532 --- [LibraryManagementSystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1327 ms
2024-12-16T14:15:49.616+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-16T14:15:49.661+01:00  INFO 27532 --- [LibraryManagementSystem] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-16T14:15:49.683+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-16T14:15:49.923+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-16T14:15:50.240+01:00  INFO 27532 --- [LibraryManagementSystem] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@65e22def']
	Database driver: undefined/unknown
	Database version: 9.1
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-16T14:15:50.877+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-16T14:15:50.962+01:00  INFO 27532 --- [LibraryManagementSystem] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:15:51.357+01:00  INFO 27532 --- [LibraryManagementSystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2024-12-16T14:15:51.482+01:00 DEBUG 27532 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2024-12-16T14:15:51.552+01:00 DEBUG 27532 --- [LibraryManagementSystem] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-16T14:15:51.690+01:00 DEBUG 27532 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-16T14:15:51.733+01:00 DEBUG 27532 --- [LibraryManagementSystem] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-16T14:15:51.867+01:00  INFO 27532 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-16T14:15:51.875+01:00  INFO 27532 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Started BackendApplication in 4.161 seconds (process running for 4.449)
2024-12-16T14:15:52.012+01:00 DEBUG 27532 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:16:05.027+01:00  INFO 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-16T14:16:05.028+01:00  INFO 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-16T14:16:05.028+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-16T14:16:05.028+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-16T14:16:05.028+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-16T14:16:05.029+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@281d3ce7
2024-12-16T14:16:05.029+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5e6ad84c
2024-12-16T14:16:05.029+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-16T14:16:05.029+01:00  INFO 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-16T14:16:05.046+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:16:05.047+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:16:05.098+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@723e748a]
2024-12-16T14:16:05.103+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:16:05.121+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:16:05.122+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Invalid username or password"]
2024-12-16T14:16:05.126+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-16T14:16:18.324+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2024-12-16T14:16:18.325+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#registerUser(User)
2024-12-16T14:16:18.325+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@3f8c6b27]
2024-12-16T14:16:18.336+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        user u1_0 
    where
        u1_0.username=? 
    limit
        ?
2024-12-16T14:16:18.348+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        user u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-12-16T14:16:18.447+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        user
        (email, password, role, username) 
    values
        (?, ?, ?, ?)
2024-12-16T14:16:18.462+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:16:18.462+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["User registered successfully"]
2024-12-16T14:16:18.463+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-16T14:16:30.835+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:16:30.835+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:16:30.836+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@770bf759]
2024-12-16T14:16:30.837+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:16:30.912+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:16:30.912+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["USER"]
2024-12-16T14:16:30.913+01:00 DEBUG 27532 --- [LibraryManagementSystem] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-16T14:18:08.364+01:00  INFO 27532 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-16T14:18:08.367+01:00  INFO 27532 --- [LibraryManagementSystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-16T14:18:08.369+01:00  INFO 27532 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:18:14.838+01:00  INFO 6504 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Starting BackendApplication using Java 21.0.4 with PID 6504 (C:\Users\egor\Desktop\LibraaryManagmentSystem\backend\target\classes started by egor in C:\Users\egor\Desktop\LibraaryManagmentSystem)
2024-12-16T14:18:14.840+01:00  INFO 6504 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : No active profile set, falling back to 1 default profile: "default"
2024-12-16T14:18:15.533+01:00  INFO 6504 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-16T14:18:15.615+01:00  INFO 6504 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 5 JPA repository interfaces.
2024-12-16T14:18:16.246+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-16T14:18:16.260+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-16T14:18:16.260+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-16T14:18:16.313+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-16T14:18:16.313+01:00  INFO 6504 --- [LibraryManagementSystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1434 ms
2024-12-16T14:18:16.474+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-16T14:18:16.525+01:00  INFO 6504 --- [LibraryManagementSystem] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-16T14:18:16.547+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-16T14:18:16.823+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-16T14:18:17.149+01:00  INFO 6504 --- [LibraryManagementSystem] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@5426cb36']
	Database driver: undefined/unknown
	Database version: 9.1
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-16T14:18:17.800+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-16T14:18:17.810+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table book 
       drop 
       foreign key FK1wxwagv6cm3vjrxqhmv884hir
2024-12-16T14:18:17.850+01:00  WARN 6504 --- [LibraryManagementSystem] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FK1wxwagv6cm3vjrxqhmv884hir" via JDBC [Table 'users.book' doesn't exist]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FK1wxwagv6cm3vjrxqhmv884hir" via JDBC [Table 'users.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1849) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.example.backend.BackendApplication.main(BackendApplication.java:9) ~[classes/:na]
Caused by: java.sql.SQLSyntaxErrorException: Table 'users.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 39 common frames omitted

2024-12-16T14:18:17.853+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table book 
       drop 
       foreign key FKt07elejsldb5a17cfnga4u6as
2024-12-16T14:18:17.856+01:00  WARN 6504 --- [LibraryManagementSystem] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FKt07elejsldb5a17cfnga4u6as" via JDBC [Table 'users.book' doesn't exist]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FKt07elejsldb5a17cfnga4u6as" via JDBC [Table 'users.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1849) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.example.backend.BackendApplication.main(BackendApplication.java:9) ~[classes/:na]
Caused by: java.sql.SQLSyntaxErrorException: Table 'users.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 39 common frames omitted

2024-12-16T14:18:17.857+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table borrowing_record 
       drop 
       foreign key FK79d6bb8ptx41act3qbt5pxuwm
2024-12-16T14:18:17.859+01:00  WARN 6504 --- [LibraryManagementSystem] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table borrowing_record 
       drop 
       foreign key FK79d6bb8ptx41act3qbt5pxuwm" via JDBC [Can't DROP 'FK79d6bb8ptx41act3qbt5pxuwm'; check that column/key exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table borrowing_record 
       drop 
       foreign key FK79d6bb8ptx41act3qbt5pxuwm" via JDBC [Can't DROP 'FK79d6bb8ptx41act3qbt5pxuwm'; check that column/key exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1849) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.example.backend.BackendApplication.main(BackendApplication.java:9) ~[classes/:na]
Caused by: java.sql.SQLSyntaxErrorException: Can't DROP 'FK79d6bb8ptx41act3qbt5pxuwm'; check that column/key exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 39 common frames omitted

2024-12-16T14:18:17.860+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table borrowing_record 
       drop 
       foreign key FK6e5fdl33e4cvv2jgacf9bpswj
2024-12-16T14:18:17.867+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table user_roles 
       drop 
       foreign key FK55itppkw3i07do3h7qoclqd4k
2024-12-16T14:18:17.873+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table user_roles 
       drop 
       foreign key FKh8ciramu9cc9q3qcqiv4ue8a6
2024-12-16T14:18:17.878+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists book
2024-12-16T14:18:17.882+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists borrowing_record
2024-12-16T14:18:17.891+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists patron
2024-12-16T14:18:17.900+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists roles
2024-12-16T14:18:17.907+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists user
2024-12-16T14:18:17.916+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles
2024-12-16T14:18:17.929+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table book (
        id bigint not null auto_increment,
        patron_id bigint,
        user_id bigint not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-12-16T14:18:17.967+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table borrowing_record (
        book_id bigint not null,
        borrowing_record_id bigint not null auto_increment,
        patron_id bigint not null,
        contact_info varchar(255),
        primary key (borrowing_record_id)
    ) engine=InnoDB
2024-12-16T14:18:17.976+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table patron (
        id bigint not null auto_increment,
        name varchar(255),
        primary key (id)
    ) engine=InnoDB
2024-12-16T14:18:17.986+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint not null auto_increment,
        name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-12-16T14:18:17.996+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table user (
        id bigint not null auto_increment,
        email varchar(255),
        password varchar(255),
        role varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=InnoDB
2024-12-16T14:18:18.004+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    ) engine=InnoDB
2024-12-16T14:18:18.015+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table roles 
       add constraint UKofx66keruapi6vyqpv6f2or37 unique (name)
2024-12-16T14:18:18.043+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table book 
       add constraint FK1wxwagv6cm3vjrxqhmv884hir 
       foreign key (user_id) 
       references user (id)
2024-12-16T14:18:18.083+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table book 
       add constraint FKt07elejsldb5a17cfnga4u6as 
       foreign key (patron_id) 
       references patron (id)
2024-12-16T14:18:18.123+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table borrowing_record 
       add constraint FK79d6bb8ptx41act3qbt5pxuwm 
       foreign key (book_id) 
       references book (id)
2024-12-16T14:18:18.157+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table borrowing_record 
       add constraint FK6e5fdl33e4cvv2jgacf9bpswj 
       foreign key (patron_id) 
       references patron (id)
2024-12-16T14:18:18.190+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table user_roles 
       add constraint FK55itppkw3i07do3h7qoclqd4k 
       foreign key (user_id) 
       references user (id)
2024-12-16T14:18:18.226+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles (id)
2024-12-16T14:18:18.265+01:00  INFO 6504 --- [LibraryManagementSystem] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:18:18.603+01:00  INFO 6504 --- [LibraryManagementSystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2024-12-16T14:18:18.752+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2024-12-16T14:18:18.847+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-16T14:18:19.007+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-16T14:18:19.063+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-16T14:18:19.200+01:00  INFO 6504 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-16T14:18:19.208+01:00  INFO 6504 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Started BackendApplication in 4.784 seconds (process running for 5.082)
2024-12-16T14:18:19.358+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:18:19.490+01:00 DEBUG 6504 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    insert 
    into
        user
        (email, password, role, username) 
    values
        (?, ?, ?, ?)
2024-12-16T14:18:51.274+01:00  INFO 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-16T14:18:51.275+01:00  INFO 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-16T14:18:51.275+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-16T14:18:51.275+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-16T14:18:51.275+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-16T14:18:51.275+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@a3f1f32
2024-12-16T14:18:51.275+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@128ebca1
2024-12-16T14:18:51.276+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-16T14:18:51.276+01:00  INFO 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-16T14:18:51.301+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2024-12-16T14:18:51.302+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#registerUser(User)
2024-12-16T14:18:51.357+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@bc3289f]
2024-12-16T14:18:51.363+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        user u1_0 
    where
        u1_0.username=? 
    limit
        ?
2024-12-16T14:18:51.377+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        user u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-12-16T14:18:51.453+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        user
        (email, password, role, username) 
    values
        (?, ?, ?, ?)
2024-12-16T14:18:51.462+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:18:51.463+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["User registered successfully"]
2024-12-16T14:18:51.467+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-16T14:18:58.949+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:18:58.950+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:18:58.951+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@31c41c1]
2024-12-16T14:18:58.952+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:18:59.027+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:18:59.027+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["USER"]
2024-12-16T14:18:59.028+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-16T14:19:56.846+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2024-12-16T14:19:56.846+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#registerUser(User)
2024-12-16T14:19:56.847+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@5311065d]
2024-12-16T14:19:56.848+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        user u1_0 
    where
        u1_0.username=? 
    limit
        ?
2024-12-16T14:19:56.857+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        user u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-12-16T14:19:56.936+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        user
        (email, password, role, username) 
    values
        (?, ?, ?, ?)
2024-12-16T14:19:56.940+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:19:56.941+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["User registered successfully"]
2024-12-16T14:19:56.941+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-16T14:20:10.061+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:20:10.061+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:20:10.062+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@3c2aa57a]
2024-12-16T14:20:10.063+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:20:10.129+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:20:10.130+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["USER"]
2024-12-16T14:20:10.130+01:00 DEBUG 6504 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-16T14:30:01.628+01:00  INFO 6504 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-16T14:30:01.632+01:00  INFO 6504 --- [LibraryManagementSystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-16T14:30:01.636+01:00  INFO 6504 --- [LibraryManagementSystem] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:30:05.047+01:00  INFO 23968 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Starting BackendApplication using Java 21.0.4 with PID 23968 (C:\Users\egor\Desktop\LibraaryManagmentSystem\backend\target\classes started by egor in C:\Users\egor\Desktop\LibraaryManagmentSystem)
2024-12-16T14:30:05.049+01:00  INFO 23968 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : No active profile set, falling back to 1 default profile: "default"
2024-12-16T14:30:05.716+01:00  INFO 23968 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-16T14:30:05.774+01:00  INFO 23968 --- [LibraryManagementSystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2024-12-16T14:30:06.345+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-16T14:30:06.357+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-16T14:30:06.357+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-16T14:30:06.410+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-16T14:30:06.410+01:00  INFO 23968 --- [LibraryManagementSystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1314 ms
2024-12-16T14:30:06.609+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-16T14:30:06.674+01:00  INFO 23968 --- [LibraryManagementSystem] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-16T14:30:06.696+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-16T14:30:06.953+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-16T14:30:07.266+01:00  INFO 23968 --- [LibraryManagementSystem] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.DriverManagerDataSource@3fcee3d9']
	Database driver: undefined/unknown
	Database version: 9.1
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-16T14:30:07.912+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-16T14:30:07.920+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table book 
       drop 
       foreign key FK1wxwagv6cm3vjrxqhmv884hir
2024-12-16T14:30:07.952+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table book 
       drop 
       foreign key FKt07elejsldb5a17cfnga4u6as
2024-12-16T14:30:07.957+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table borrowing_record 
       drop 
       foreign key FK79d6bb8ptx41act3qbt5pxuwm
2024-12-16T14:30:07.979+01:00  WARN 23968 --- [LibraryManagementSystem] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table borrowing_record 
       drop 
       foreign key FK79d6bb8ptx41act3qbt5pxuwm" via JDBC [Can't DROP 'FK79d6bb8ptx41act3qbt5pxuwm'; check that column/key exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table borrowing_record 
       drop 
       foreign key FK79d6bb8ptx41act3qbt5pxuwm" via JDBC [Can't DROP 'FK79d6bb8ptx41act3qbt5pxuwm'; check that column/key exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1849) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.example.backend.BackendApplication.main(BackendApplication.java:9) ~[classes/:na]
Caused by: java.sql.SQLSyntaxErrorException: Can't DROP 'FK79d6bb8ptx41act3qbt5pxuwm'; check that column/key exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 39 common frames omitted

2024-12-16T14:30:07.981+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table borrowing_record 
       drop 
       foreign key FK6e5fdl33e4cvv2jgacf9bpswj
2024-12-16T14:30:07.986+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table user_roles 
       drop 
       foreign key FK55itppkw3i07do3h7qoclqd4k
2024-12-16T14:30:07.992+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table user_roles 
       drop 
       foreign key FKh8ciramu9cc9q3qcqiv4ue8a6
2024-12-16T14:30:07.996+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists book
2024-12-16T14:30:08.003+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists borrowing_record
2024-12-16T14:30:08.010+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists patron
2024-12-16T14:30:08.016+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists roles
2024-12-16T14:30:08.024+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists user
2024-12-16T14:30:08.031+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles
2024-12-16T14:30:08.042+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table book (
        id bigint not null auto_increment,
        patron_id bigint,
        user_id bigint not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-12-16T14:30:08.086+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table borrowing_record (
        book_id bigint not null,
        borrowing_record_id bigint not null auto_increment,
        patron_id bigint not null,
        contact_info varchar(255),
        primary key (borrowing_record_id)
    ) engine=InnoDB
2024-12-16T14:30:08.094+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table patron (
        id bigint not null auto_increment,
        name varchar(255),
        primary key (id)
    ) engine=InnoDB
2024-12-16T14:30:08.103+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint not null auto_increment,
        name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2024-12-16T14:30:08.111+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table user (
        id bigint not null auto_increment,
        email varchar(255),
        password varchar(255),
        role varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=InnoDB
2024-12-16T14:30:08.122+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    ) engine=InnoDB
2024-12-16T14:30:08.138+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table roles 
       add constraint UKofx66keruapi6vyqpv6f2or37 unique (name)
2024-12-16T14:30:08.156+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table book 
       add constraint FK1wxwagv6cm3vjrxqhmv884hir 
       foreign key (user_id) 
       references user (id)
2024-12-16T14:30:08.194+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table book 
       add constraint FKt07elejsldb5a17cfnga4u6as 
       foreign key (patron_id) 
       references patron (id)
2024-12-16T14:30:08.230+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table borrowing_record 
       add constraint FK79d6bb8ptx41act3qbt5pxuwm 
       foreign key (book_id) 
       references book (id)
2024-12-16T14:30:08.262+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table borrowing_record 
       add constraint FK6e5fdl33e4cvv2jgacf9bpswj 
       foreign key (patron_id) 
       references patron (id)
2024-12-16T14:30:08.300+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table user_roles 
       add constraint FK55itppkw3i07do3h7qoclqd4k 
       foreign key (user_id) 
       references user (id)
2024-12-16T14:30:08.332+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    alter table user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles (id)
2024-12-16T14:30:08.370+01:00  INFO 23968 --- [LibraryManagementSystem] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-16T14:30:08.728+01:00  INFO 23968 --- [LibraryManagementSystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2024-12-16T14:30:08.855+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2024-12-16T14:30:08.926+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-16T14:30:09.102+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-16T14:30:09.155+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-16T14:30:09.284+01:00  INFO 23968 --- [LibraryManagementSystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-16T14:30:09.291+01:00  INFO 23968 --- [LibraryManagementSystem] [main] org.example.backend.BackendApplication   : Started BackendApplication in 4.648 seconds (process running for 4.948)
2024-12-16T14:30:09.440+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:30:09.573+01:00 DEBUG 23968 --- [LibraryManagementSystem] [main] org.hibernate.SQL                        : 
    insert 
    into
        user
        (email, password, role, username) 
    values
        (?, ?, ?, ?)
2024-12-16T14:30:24.328+01:00  INFO 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-16T14:30:24.328+01:00  INFO 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-16T14:30:24.328+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-16T14:30:24.328+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-16T14:30:24.328+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-16T14:30:24.329+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@34128fed
2024-12-16T14:30:24.329+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@37c49a55
2024-12-16T14:30:24.329+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-16T14:30:24.330+01:00  INFO 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-16T14:30:24.362+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:30:24.363+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:30:24.412+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@5fc90189]
2024-12-16T14:30:24.417+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:30:24.435+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:30:24.436+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Invalid username or password"]
2024-12-16T14:30:24.439+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-16T14:30:37.902+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:30:37.902+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:30:37.903+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@4abef97b]
2024-12-16T14:30:37.904+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:30:37.913+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:30:37.913+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Invalid username or password"]
2024-12-16T14:30:37.915+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-16T14:31:40.225+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2024-12-16T14:31:40.226+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#registerUser(User)
2024-12-16T14:31:40.227+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@3a56d3dc]
2024-12-16T14:31:40.230+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        user u1_0 
    where
        u1_0.username=? 
    limit
        ?
2024-12-16T14:31:40.241+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        user u1_0 
    where
        u1_0.email=? 
    limit
        ?
2024-12-16T14:31:40.319+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        user
        (email, password, role, username) 
    values
        (?, ?, ?, ?)
2024-12-16T14:31:40.323+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:31:40.324+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["User registered successfully"]
2024-12-16T14:31:40.324+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-16T14:31:48.496+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2024-12-16T14:31:48.497+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.backend.controller.AuthController#loginUser(User)
2024-12-16T14:31:48.498+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [org.example.backend.model.User@33c0be93]
2024-12-16T14:31:48.499+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.username=?
2024-12-16T14:31:48.575+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2024-12-16T14:31:48.575+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["USER"]
2024-12-16T14:31:48.575+01:00 DEBUG 23968 --- [LibraryManagementSystem] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
